set ignorecase
set smartcase
set scrolloff=3         " 3 lines above/below cursor when scrolling

set number
set relativenumber

let mapleader = ','


nnoremap ; :
vnoremap ; :

" Goto definition in this file
" This is a giant hack but ideavim doesn't have word-under-cursor register.
nnoremap gd :set noignorecase<cr>*ggn:set ignorecase<cr>zz
vnoremap gd <Esc>:set noignorecase<cr>*ggn:set ignorecase<cr>zz

" Navigation commands
" Search file
nnoremap <leader>f :action GotoFile<cr>
nnoremap <leader>F evb:action GotoFile<cr>
nnoremap <leader>c :action GotoClass<cr>
nnoremap <leader>C evb:action GotoClass<cr>
nnoremap <leader>. :action GotoSymbol<cr>
nnoremap <leader>> evb:action GotoSymbol<cr>
nnoremap <leader>a :action FindInPath<cr>
nnoremap <leader>A evb:action FindInPath<cr>

" Require Frame Switcher plugin
" Go project
nnoremap <leader>gp :action FrameSwitchAction<cr>
" Go NERDTree (legacy from vim :p)
nnoremap <leader>gn :action SelectIn<cr>
nnoremap <leader>bb :action RecentFiles<cr>
nnoremap <leader>bt :action FileStructurePopup<cr>
" Open tags window
nnoremap <leader>wt :action FileStructurePopup<cr>

" Open hierachy window
nnoremap <leader>wh :action TypeHierarchy<cr>

" Close all windows
nnoremap <leader>wc :action HideAllWindows<cr>

" Error error!
nnoremap <leader>ee :action ShowErrorDescription<cr>
" Error fix
nnoremap <leader>ef :action ShowIntentionActions<cr>
" Next error
nnoremap <C-n> :action GotoNextError<cr>
" Previous error
nnoremap <C-p> :action GotoPreviousError<cr>

" Goto declaration
nnoremap <leader>ge :action GotoDeclaration<cr>
" Goto definition
nnoremap <leader>gd :action GotoDeclaration<cr>

" Goto reference
nnoremap <leader>gr :action FindUsages<cr>
" Goto implementation
nnoremap <leader>gi :action GotoImplementation<cr>
" Goto terminal
nnoremap <leader>gt :action ActivateTerminalToolWindow<cr>


" Peek peek
nnoremap <leader>pp :action QuickJavaDoc<cr>
" Peek definition
nnoremap <leader>pd :action QuickImplementations<cr>

nnoremap <leader>@c :action CopyPaths<cr>
nnoremap <leader>@p :action CopyReference<cr>

nnoremap <leader>gb :action Annotate<cr>

nnoremap <C-O> :action Back<cr>
nnoremap <C-I> :action Forward<cr>

nnoremap <C-6> :action Switcher<cr>

" Run
nnoremap <leader>rr :action Run<cr>
" Run Debug
nnoremap <leader>rd :action Debug<cr>
" Run Tests
nnoremap <leader>rt :action RunClass<cr>
" Run Failed Tests
nnoremap <leader>rf :action RerunFailedTests<cr>
" Run Build
nnoremap <leader>rb :action Compile<cr>

" Refactor
nnoremap <leader>tt :action Refactorings.QuickListPopupAction<cr>
" Refactor rename
nnoremap <leader>tr :action RenameElement<cr>
